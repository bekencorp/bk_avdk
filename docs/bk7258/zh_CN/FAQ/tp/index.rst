TP常见问题
=================================

:link_to_translation:`en:[English]`



本节主要描述调试LCD触摸功能过程中常遇到的问题和解决方法。

    * Q：触摸位置与实际位置存在镜像关系如何解决？

    * A：打开触摸功能的第三个参数可根据具体的镜像关系传入不同的值，具体可参考tp_mirror_type_t的枚举值。

    * Q：相同厂家相同型号的屏幕，部分屏幕的触摸功能位置有偏差是什么情况？

    * A：若确认不是屏幕损坏异常且不是存在镜像关系的位置偏差，可读取触摸芯片的版本寄存器，虽然是相同厂家相同型号的产品，但是不同批次的屏幕触摸芯片烧录的版本可能不一致没有及时更新导致。

    * Q：在新建的lvgl工程实现具体的UI，发现触摸功能不灵敏或触摸一次却不断触发。

    * A：可检查一下TP_INT引脚的中断服务函数是否正常触发，可在tp_driver.c文件中的tp_int_gpio_isr()函数中添加log打印查看时间间隔或者拉gpio查看间隔时间，正常应该是20ms触发一次，若存在触发间隔有时超过20ms，在工程config/bk7258和config/bk7258_cp1文件夹里添加usr_gpio_cfg.h用于重新定义gpio_map表，具体可参考示例工程中的文件，并在两个文件夹里的config文件里打开以下两个宏：
    
    +------------------------------------+---------------+
    |     marco                          |     value     |
    +------------------------------------+---------------+
    | CONFIG_GPIO_DEFAULT_SET_SUPPORT    |       Y       |
    +------------------------------------+---------------+
    | CONFIG_USR_GPIO_CFG_EN             |       Y       |
    +------------------------------------+---------------+

